<!DOCTYPE html>
<html>

<head>
  <title>animation3d.css</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="../../../lib/index.css" />
  <link rel="stylesheet" href="./index.css" />
</head>

<body>
  <div class="root">
    <div class="waterRipple">
      <div class="waterDrop"></div>
    </div>
    <div class="eventRippleDemo eventRipple">
      点击
    </div>
    <div class="shadowRipple pink"></div>
  </div>
  <script>
    var rippleElements = document.getElementsByClassName('eventRippleDemo');

    function createRipple(e) {
      ripple = document.createElement("div");
      ripple.className = "rippleEffect";

      this.appendChild(ripple);

      ripple.style.top = (e.offsetY - (this.offsetHeight / 2)) + "px";
      ripple.style.left = (e.offsetX - (this.offsetWidth / 2)) + "px";

      ripple.addEventListener("animationend", destroyRipple, false);
      ripple.addEventListener("webkitAnimationEnd", destroyRipple, false);
      ripple.addEventListener("oAnimationEnd", destroyRipple, false);
      ripple.addEventListener("MSAnimationEnd", destroyRipple, false);
    }

    function destroyRipple() {
      this.parentElement.removeChild(this);
    }

    for (var i = 0; i < rippleElements.length; i++) {
      rippleElements[i].addEventListener('mousedown', createRipple, false);
      rippleElements[i].addEventListener('touchstart', createRipple, false);
    }
  </script>
</body>

</html>